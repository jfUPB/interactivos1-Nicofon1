En el diseño de la máquina de estados para la bomba, tomé varias decisiones que influenciaron su funcionamiento. En primer lugar, decidí dividir el sistema en estados simples (HAPPY, SMILE, SAD), que representan diferentes etapas del proceso. Esta decisión fue clave para asegurar que el flujo entre los estados fuera claro y fácil de manejar. Utilicé temporizadores para controlar cuánto tiempo permanece el sistema en cada estado antes de cambiar, y para hacer la transición entre estados más dinámica y controlada. Elegí esta estructura para evitar que el sistema pasara de un estado a otro de forma aleatoria y asegurar que se mantuviera la coherencia del flujo de trabajo.

Una de las principales dificultades que encontré fue el manejo de las interacciones del usuario con el botón A. Aunque se esperaba que el sistema respondiera rápidamente, en ocasiones no registraba correctamente las presiones del botón o las condiciones de tiempo no coincidían. Otra dificultad fue la sincronización de los intervalos de tiempo, ya que el sistema podía adelantarse o retrasarse si no se gestionaban bien las diferencias de tiempo entre estados. Para mejorar el diseño, sería útil agregar una validación para el botón que minimice el "rebote" o incorpore un sistema de verificación más preciso. También podría optimizarse la estructura de los estados para hacerla más flexible, permitiendo agregar más transiciones o condiciones de entrada más complejas.
